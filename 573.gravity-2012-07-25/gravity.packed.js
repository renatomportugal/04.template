/*************************************************************
 * This script is developed by Arturs Sosins aka ar2rsawseen, http://webcodingeasy.com
 * Feel free to distribute and modify code, but keep reference to its creator
 *
 * Gravity is a box2dweb wrapper for HTML elements. It provides a way to apply physics
 * to HTML elements, define gravity, handle collisions, apply different parameters as
 * friction, restitution, density and even drag physical HTML element bodies.
 *
 * For more information, examples and online documentation visit: 
 * http://webcodingeasy.com/JS-classes/Apply-physics-to-HTML-elements
**************************************************************/
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('3 34=Q(q){3 r=15.2h.X.3j,26=15.1w.26,2e=15.1f.2e,1C=15.1f.1C,2b=15.1f.2b,2s=15.1f.2s,2g=15.1f.2g,2o=15.1w.1D.2o,1Z=15.1w.1D.1Z,2x=15.1w.1D.2x,1A=15.1f.1A,2c=15.1f.3b.2c,2f=15.1w.1D.2f,2w=15.2h.X.2w,29=15.1f.29;3 R=30;3 s={2y:0,2z:9.8,1F:1b,1N:1b,1W:1e,27:17,1u:"4",1z:3n/2l};3 t,1d,1i,1l,23,1B,1J,1m,1z;3 u=[];3 v=Q(){1k(3 i 2a q){s[i]=q[i]}1d=M();O(1p,"1d",Q(){1d=M()});3 d;6(s.1u=="3f"){d=L();d.x=0;d.y=0}12 6(s.1u=="4"){d=K();d.x=0;d.y=0}12{3 j=(14 s.1u=="1o")?4.1r(s.1u):s.1u;6(j&&j.28){d={};3 k=j.28();d.y=k.1a+1d.y;d.x=k.1c+1d.x;d.S=(k.S)?k.S:(k.1c-k.1Q);d.T=(k.T)?k.T:(k.1a-k.1S)}}t=13 2g(13 r(s.2y,s.2z),17);6(s.1W&&d){3 l=K();3 m=4.36("3l");m.2j("S",l.S+"1h");m.2j("T",l.T+"1h");m.W.1L="21";m.W.1a="2p";m.W.1c="2p";m.W.3d=-1;4.7.3s(m);3 n=13 1A();n.3w(m.3A("2d"));n.39(R);n.3p(0.5);n.3y(1A.3C|1A.3F);n.3H(1.0);t.3J(n)}6(d){3 o={1X:17,1H:0.2,1R:0.1,1U:1,25:1e};d.T=X.2n(d.T/2);d.S=X.2n(d.S/2);A(d.x,d.y+d.T,1,d.T,"1j",o);A(d.x+d.S*2,d.y+d.T,1,d.T,"1j",o);A(d.x+d.S,d.y,d.S,1,"1j",o);A(d.x+d.S,d.y+d.T*2,d.S,1,"1j",o)}6(s.1F||s.1N){3 p=13 29();6(s.1F){p.3h=Q(a){3 b=[];1k(f=a;f;f=f.1T()){3 c=f.2q();3 d=f.2t();3 e=c.1q();3 g=d.1q();6((e.U()&&14 e.U().Y!="16")&&(g.U()&&14 g.U().Y!="16")){3 h=[];6(e.U().Y=="1j"){h.19(e.U().Y)}12{h.19(u[e.U().Y].V)}6(g.U().Y=="1j"){h.19(g.U().Y)}12{h.19(u[g.U().Y].V)}b.19(h)}}6(b!=[]){s.1F(b)}}}6(s.1N){p.35=Q(a){3 b=[];1k(f=a;f;f=f.1T()){3 c=f.2q();3 d=f.2t();3 e=c.1q();3 g=d.1q();6((e.U()&&14 e.U().Y!="16")&&(g.U()&&14 g.U().Y!="16")){3 h=[];6(e.U().Y=="1j"){h.19(e.U().Y)}12{h.19(u[e.U().Y].V)}6(g.U().Y=="1j"){h.19(g.U().Y)}12{h.19(u[g.U().Y].V)}b.19(h)}}6(b!=[]){s.1N(b)}}}t.3T(p)}6(s.27){O(4,"49",Q(e){1B=17;H(e);O(4,"2i",H)},17);O(4,"3x",Q(){P(4,"2i",H);1B=1e;1i=16;1l=16},17)}};1n.3k=Q(){1k(3 i 2a u){6(u[i].V.W.1L!="21"){u[i].V.W.1L="21";u[i].V.W.41="0";u[i].V.W.4l="0";u[i].V.W.1a=u[i].1x.1a+"1h";u[i].V.W.1c=u[i].1x.1c+"1h";u[i].V.W.T=u[i].1x.T*2+"1h";u[i].V.W.S=u[i].1x.S*2+"1h"}}6(!1z){1z=3L(G,s.1z)}};1n.4h=Q(a,b){3 c={1X:1e,1H:0.2,1R:0.1,1U:1,25:1e};1k(3 d 2a b){c[d]=b[d]}a=(14 a=="1o")?4.1r(a):a;6(a){6(c.25){w(a,c)}12{z(a,c)}}};1n.3c=Q(a){a=(14 a=="1o")?4.1r(a):a;3 b=D(a);t.3X(u[b].7);3E u[b];F(a,"22"+b)};1n.4d=Q(a,b,c,x,y){a=(14 a=="1o")?4.1r(a):a;3 d=D(a);6(d!=1b){u[d].7.1K(17);3 e;6(x==16||y==16){e=u[d].7.20().24()}12{e={x:x,y:y}}u[d].7.3r(13 r(b,c),e)}};1n.3P=Q(a,b,c,x,y){a=(14 a=="1o")?4.1r(a):a;3 d=D(a);6(d!=1b){u[d].7.1K(17);3 e;6(x==16||y==16){e=u[d].7.20().24()}12{e={x:x,y:y}}u[d].7.45(13 r(b,c),e)}};1n.4j=Q(a,b){a=(14 a=="1o")?4.1r(a):a;3 c=D(a);u[c].7.1K(17);u[c].7.4n(b)};1n.4p=Q(a){a=(14 a=="1o")?4.1r(a):a;18 D(a)!=1b};3 w=Q(a,b){3 c=1e;1k(3 d=a.38;d;d=d.3B){6(d.3V==1){c=17;6(!w(d,b)){z(d,b)}}}18 c};3 z=Q(a,b){3 c=a.28();3 d={};d.1a=c.1a+1d.y;d.1S=c.1S+1d.y;d.1c=c.1c+1d.x;d.1Q=c.1Q+1d.x;d.S=(c.S)?c.S/2:(c.1c-c.1Q)/2;d.T=(c.T)?c.T/2:(c.1a-c.1S)/2;3 e={};e.V=a;e.1x=d;e.2m=d.T;e.2B=d.S;e.7=A(d.1c+d.S,d.1a+d.T,d.S,d.T,u.2J,b);E(a,"22"+u.2J);u.19(e)};3 A=Q(x,y,a,b,c,d){3 e=13 2b;e.1H=d.1H;e.1R=d.1R;e.1U=d.1U;e.2v=13 1Z;e.2v.3o(a/R,b/R);3 f=13 2e;6(d.1X){f.2F=1C.2N}12{f.2F=1C.3N}f.1L.1G(x/R,y/R);3 g=t.43(f);g.4b(e);g.4i({Y:c});18 g};3 B=Q(){3 a=t.3g();1k(7=a;7;7=7.1T()){6(7.U()&&14 7.U().Y!="16"){3 b=7.2D();1k(f=7.3Z();f;f=f.1T()){C(f.2H(),b,7.U().Y)}}}};3 C=Q(a,b,c){3I(a.2L()){4f 2f.3u:{6(u[c]){3 d=u[c].7.20().24();Z=b.47();u[c].V.W.4m="Z("+Z+"1y)";u[c].V.W.3R="Z("+Z+"1y)";u[c].V.W.4k="Z("+Z+"1y)";u[c].V.W.4o="Z("+Z+"1y)";u[c].V.W.4q="Z("+Z+"1y)";u[c].V.W.37="2k:2K.2U.2C(2Q=\'2Y 31\', 2u=\'"+X.1E(Z)+"\', 2G=\'"+(-X.1P(Z))+"\', 2O=\'"+X.1P(Z)+"\', 2S=\'"+X.1E(Z)+"\');";u[c].V.W.3m="2k:2K.2U.2C(2Q=\'2Y 31\', 2u=\'"+X.1E(Z)+", 2G=\'"+(-X.1P(Z))+"\', 2O=\'"+X.1P(Z)+"\', 2S=\'"+X.1E(Z)+"\');";u[c].V.W.1a=((d.y*R)-u[c].2m)+"1h";u[c].V.W.1c=((d.x*R)-u[c].2B)+"1h"}}3z}};3 D=Q(a){3 b=13 2W(\'\\s*22(.*)\\s*\');3 c=b.3e(a.1M);6(c!=1b){18 c[1]}12{18 1b}};3 E=Q(a,b){a.1M+=" "+b};3 F=Q(a,b){6(D(a,b)!=1b){3 c=13 2W(\'(\\\\s|^)\'+b+\'(\\\\s|$)\');a.1M=a.1M.3G(c,\' \')}};3 G=Q(){6(s.27){6(1B&&(!1m)){3 a=I();6(a){3 b=13 2c();b.3Q=t.3Y();b.46=a;b.4a.1G(1i,1l);b.3t=17;b.3U=48.0*a.4e();1m=t.3M(b);a.1K(17)}}6(1m){6(1B){1m.4c(13 r(1i,1l))}12{t.42(1m);1m=1b}}}B();t.4g(1/2l,10,10);6(s.1W){t.3a()}t.3W()};3 H=Q(e){e=N(e);1i=e.2E/R;1l=e.1V/R};3 I=Q(){23=13 r(1i,1l);3 a=13 26();a.3D.1G(1i-0.1I,1l-0.1I);a.44.1G(1i+0.1I,1l+0.1I);1J=1b;t.3q(J,a);18 1J};3 J=Q(a){6(a.1q().2L()!=1C.2N){6(a.2H().3O(a.1q().2D(),23)){1J=a.1q();18 1e}}18 17};3 K=Q(){3 a=13 1Y();a.S=0;a.T=0;a.S=X.1g(X.1g(4.7.2M,4.11.2M),X.1g(4.7.2R,4.11.2R),X.1g(4.7.1s,4.11.1s));a.T=X.1g(X.1g(4.7.2r,4.11.2r),X.1g(4.7.2T,4.11.2T),X.1g(4.7.1O,4.11.1O));18 a};3 L=Q(){3 a=13 1Y();a.S=0;a.T=0;6(14 1p.2I!=\'16\'){a.S=1p.2I,a.T=1p.3i}12 6(14 4.11!=\'16\'&&14 4.11.1s!=\'16\'&&4.11.1s!=0){a.S=4.11.1s,a.T=4.11.1O}12{a.S=4.2X(\'7\')[0].1s,a.T=4.2X(\'7\')[0].1O}18 a};3 M=Q(){3 x=0,y=0;6(14(1p.32)==\'33\'){y=1p.32;x=1p.3K}12 6(4.7&&(4.7.1t||4.7.1v)){y=4.7.1v;x=4.7.1t}12 6(4.11&&(4.11.1t||4.11.1v)){y=4.11.1v;x=4.11.1t}3 a=13 1Y();a.x=x;a.y=y;18 a};3 N=Q(e){6(14 e.1V==\'16\'&&14 e.2A==\'33\'&&4.11){e.2E=e.2A+4.7.1t+4.11.1t;e.1V=e.3v+4.7.1v+4.11.1v};18 e};3 O=Q(a,b,c){6(a.2P){a.2P(b,c,1e)}12{a.3S(\'2V\'+b,c)}};3 P=Q(a,b,c){6(a.2Z)a.2Z(b,c,1e);12 a.40(\'2V\'+b,c)};v()}',62,275,'|||var|document||if|body|||||||||||||||||||||||||||||||||||||||||||||function||width|height|GetUserData|elem|style|Math|id|rotate||documentElement|else|new|typeof|Box2D|undefined|true|return|push|top|null|left|scroll|false|Dynamics|max|px|mouseX|bound|for|mouseY|mouseJoint|this|string|window|GetBody|getElementById|clientWidth|scrollLeft|boundaries|scrollTop|Collision|bounds|rad|interval|b2DebugDraw|isMouseDown|b2Body|Shapes|cos|onBeginCollision|Set|restitution|001|selectedBody|SetAwake|position|className|onEndCollision|clientHeight|sin|right|friction|bottom|GetNext|density|pageY|debugDraw|fixed|Object|b2PolygonShape|GetWorldCenter|absolute|gravity_|mousePVec|Copy|includeChild|b2AABB|dragging|getBoundingClientRect|b2ContactListener|in|b2FixtureDef|b2MouseJointDef||b2BodyDef|b2Shape|b2World|Common|mousemove|setAttribute|progid|60|startY|round|b2MassData|0px|GetFixtureA|scrollHeight|b2Fixture|GetFixtureB|M11|shape|b2Math|b2CircleShape|xGravity|yGravity|clientX|startX|Matrix|GetTransform|pageX|type|M12|GetShape|innerWidth|length|DXImageTransform|GetType|scrollWidth|b2_staticBody|M21|addEventListener|sizingMethod|offsetWidth|M22|offsetHeight|Microsoft|on|RegExp|getElementsByTagName|auto|removeEventListener||expand|pageYOffset|number|gravity|EndContact|createElement|filter|firstChild|SetDrawScale|DrawDebugData|Joints|remove|zIndex|exec|viewport|GetBodyList|BeginContact|innerHeight|b2Vec2|load|canvas|Msfilter|1000|SetAsBox|SetFillAlpha|QueryAABB|ApplyForce|appendChild|collideConnected|e_polygonShape|clientY|SetSprite|mouseup|SetFlags|break|getContext|nextSibling|e_shapeBit|lowerBound|delete|e_jointBit|replace|SetLineThickness|switch|SetDebugDraw|pageXOffset|setInterval|CreateJoint|b2_dynamicBody|TestPoint|impulse|bodyA|MozTransform|attachEvent|SetContactListener|maxForce|nodeType|ClearForces|DestroyBody|GetGroundBody|GetFixtureList|detachEvent|margin|DestroyJoint|CreateBody|upperBound|ApplyImpulse|bodyB|GetAngle|300|mousedown|target|CreateFixture|SetTarget|force|GetMass|case|Step|add|SetUserData|torque|WebkitTransform|padding|MsTransform|ApplyTorque|OTransform|hasBody|transform'.split('|'),0,{}))